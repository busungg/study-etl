# 2.4 DockerFile

# 2.4.1 이미지를 생성하는 방법

개발한 애프리케이션을 컨테이너화할 때 가장 먼저 생각나는 방법은 아래와 같습니다.

1. 아무것도 존재하지 않는 이미지(우분투, CentOS)등으로 컨테이너를 생성
2. 애플리케이션을 위한 환경을 설치하고 소스코드 등을 복사해 잘 동작하는 것을 확인
3. 컨테이너를 이미지로 커밋

이 방법을 사용하면 애플리케이션이 동작하는 환경을 구성하기 위해 일일이 수작업으로 패키지를 설치하고  
소스코드를 깃(Git)에서 복제하거나 호스트에서 복사해야 합니다. 물론 직접 컨테이너에서 애플리케이션을 구동해보고  
이미지로 커밋하기 때문에 이미지의 동작을 보장할 수 있다는 점도 있습니다.

도커는 완성된 이미지를 생성하기 위해 컨테이너에 설치해야 하는 패키지, 추가해야 하는 소스코드, 실행해야 하는 명령어와  
셸 스크립트 등을 하나의 파일에 기록해 두면 도커는 이 파일을 읽어 컨테이너에서 작업을 수행한 뒤 이미지로 만들어내는 빌드(build) 명령어를 제공합니다.

이러한 작업을 기록한 파일의 이름을 Dockerfile이라 하며, 빌드 명령어는 Dockerfile을 읽어 이미지를 생성합니다.  
Dockerfile을 사용하면 직접 컨테이너를 생성하고 이미지로 커밋해야 하는 번거로움을 덜 수 있을뿐더러 깃과 같은 개발 도구를 통해 애플리케이션의 빌드 및 배포를 자동화할 수 있습니다.
